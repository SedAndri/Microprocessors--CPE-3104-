PROCED1 SEGMENT 'CODE'
ISR1 PROC FAR
ASSUME CS:PROCED1, DS:DATA
ORG 1000h
PUSHF
PUSH AX
PUSH DX

;WRITE ISR CODE HERE
	 MOV DX, PIC2
	 MOV AL, 11111110B
	 OUT DX, AL
	 STI
ONOFF:
	 MOV DX, PORTA
	 MOV AL, 00000B
	 OUT DX, AL
	 
	 MOV DX, PORTB
	 MOV AL, 00000B
	 OUT DX, AL
	 
	 MOV DX, PORTC
	 MOV AL, 00000B
	 OUT DX, AL
	 
	 MOV DX, PORTD
	 MOV AL, 00000B
	 OUT DX, AL
	 
	 MOV DX, PORTE
	 MOV AL, 00000B
	 OUT DX, AL
	 
	 MOV DX, PORTF
	 MOV AL, 00000B
	 OUT DX, AL
	 
	 MOV DX, PORTG
	 MOV AL, 00000B
	 OUT DX, AL
	 
	MOV DX, PORTH
	IN AL, DX
	CMP AL, 01H
	JE ONOFF	 

POP DX
POP AX
POPF
IRET
ISR1 ENDP
PROCED1 ENDS

PROCED2 SEGMENT 'CODE'
ISR2 PROC FAR
ASSUME CS:PROCED2, DS:DATA
ORG 2000h
MOV BX, AX
MOV CX, DX
PUSHF
PUSH AX
PUSH DX

;WRITE ISR CODE HERE
	 MOV DX, CX
	 MOV AX, BX
	 OUT DX, AL
	 
	 MOV DX, PIC2
	 MOV AL, 11100000B
	 OUT DX, AL
	 STI
	 
	 PAUSER:
	 MOV DX, PORTH
	 IN AL, DX
	 
	 CMP AL, 02H
	 JE PAUSER
 	
	

POP DX
POP AX
POPF
IRET
ISR2 ENDP
PROCED2 ENDS

PROCED3 SEGMENT 'CODE'
ISR3 PROC FAR
ASSUME CS:PROCED3, DS:DATA
ORG 4000H
PUSHF
PUSH AX
PUSH DX

;WRITE ISR CODE HERE
	 
	 MOV MODEFLAG, 0

POP DX
POP AX
POPF
IRET
ISR3 ENDP
PROCED3 ENDS

PROCED4 SEGMENT 'CODE'
ISR4 PROC FAR
ASSUME CS:PROCED4, DS:DATA
ORG 5000H
PUSHF
PUSH AX
PUSH DX

;WRITE ISR CODE HERE
	 MOV MODEFLAG, 2
	 

POP DX
POP AX
POPF
IRET
ISR4 ENDP
PROCED4 ENDS

PROCED5 SEGMENT 'CODE'
ISR5 PROC FAR
ASSUME CS:PROCED5, DS:DATA
ORG 6000H
PUSHF
PUSH AX
PUSH DX

;WRITE ISR CODE HERE
	 MOV MODEFLAG, 4
	 


POP DX
POP AX
POPF
IRET
ISR5 ENDP
PROCED5 ENDS



DATA SEGMENT
ORG 3000H
	 PORTA  EQU 0F0H  ;LED
	 PORTB  EQU 0F2H				
	 PORTC  EQU 0F4H				
	 PORT_CON EQU 0F6H 

	 PORTD  EQU 0E8H
	 PORTE  EQU 0EAH	; LED		
	 PORTH  EQU 0ECH	;switches		
	 PORT_NOC EQU 0EEH 
	 
	 PORTF  EQU 0C8H
	 PORTG EQU 0CAH
	 PORT_NCO EQU 0CEH

	 PIC1 EQU 0F8H
	 PIC2 EQU 0FAH
	 ICW1 EQU 13H
	 ICW2 EQU 80H
	 ICW4 EQU 03H	
	 
	 MODEFLAG DB 0H

	 PAUSEFLAG DB 0H
	 
DATA ENDS

STK SEGMENT
	 BOS DW 64d DUP (?)
	 TOS LABEL WORD
STK ENDS

CODE SEGMENT PUBLIC 'CODE'
ASSUME CS:CODE, DS:DATA, SS:STK
ORG 8000H

START:
	 MOV AX, DATA
	 MOV DS, AX
	 MOV AX, STK
	 MOV SS, AX
	 LEA SP, TOS
	 
	 CLI
	 
	 ;8255
	 MOV DX, PORT_CON
	 MOV AL, 10000000B
	 OUT DX, AL
	 
	 MOV DX, PORT_NOC
	 MOV AL, 10001001B
	 OUT DX, AL
	 
	 MOV DX, PORT_NCO
	 MOV AL, 10001001B
	 OUT DX, AL
	 
	 ;8259
	 MOV DX, PIC1
	 MOV AL, ICW1
	 OUT DX, AL
	 MOV DX, PIC2
	 MOV AL, ICW2
	 OUT DX, AL
	 MOV AL, ICW4
	 OUT DX, AL
	 MOV AL, 11111000B
	 OUT DX,AL
	 STI
	 
	 MOV AX, OFFSET ISR1
	 MOV [ES:200H], AX
	 MOV AX, SEG ISR1
	 MOV [ES:202H], AX

	 MOV AX, OFFSET ISR2
	 MOV [ES:204H], AX
	 MOV AX, SEG ISR2
	 MOV [ES:206H], AX
	 
	 MOV AX, OFFSET ISR3
	 MOV [ES:208H], AX
	 MOV AX, SEG ISR3
	 MOV [ES:20AH], AX
	 
	 MOV AX, OFFSET ISR4
	 MOV [ES:20CH], AX
	 MOV AX, SEG ISR4
	 MOV [ES:20EH], AX
	 
	 MOV AX, OFFSET ISR5
	 MOV [ES:210H], AX
	 MOV AX, SEG ISR5
	 MOV [ES:212H], AX
	 

HERE: ;foreground routine

	 CALL CHECKER
	 
	 
	 JMP HERE
;===============================================================================

CHECKER:
	 CMP MODEFLAG, 0
	 JE MODE_0
	 CMP MODEFLAG, 2
	 JE MODE_1
	 CMP MODEFLAG, 4
	 JE MODE_2
	 RET
	 
;	 
PA:
	 MOV DX, PORTA
	 OUT DX, AL
	 RET
	 
PB:
	 MOV DX, PORTB
	 OUT DX, AL
	 RET
	 
PC:
	 MOV DX, PORTC
	 OUT DX, AL
	 RET
	 
PD:
	 MOV DX, PORTD
	 OUT DX, AL
	 RET
	 
PE:
	 MOV DX, PORTE
	 OUT DX, AL
	 RET
	 
PF:
	 MOV DX, PORTF
	 OUT DX, AL
	 RET
	 
PG:
	 MOV DX, PORTG
	 OUT DX, AL
	 CALL CHECKER
	 RET

	 
DELAY_S:
	 PUSH CX
	 MOV CX, 5000000 ; For 1 second at 5MHz
	 DELAY_LOOP1:
	 PUSH CX
	 MOV CX, 6
	 DELAY_INNER:
	 NOP
	 NOP
	 LOOP DELAY_INNER
	 POP CX
	 LOOP DELAY_LOOP1
	 POP CX
	 RET
	 
MODE_0: ;default
	 INC MODEFLAG
	 
	 MOV AL, 10001B;H
	 CALL PA
	 MOV AL, 10001B
	 CALL PB 
	 MOV AL, 10001B
	 CALL PC
	 MOV AL, 11111B
	 CALL PD
	 MOV AL, 10001B
	 CALL PE
	 MOV AL, 10001B
	 CALL PF
	 MOV AL, 10001B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00010B
	 CALL PA
	 MOV AL, 00010B
	 CALL PB 
	 MOV AL, 00010B
	 CALL PC
	 MOV AL, 11110B
	 CALL PD
	 MOV AL, 00010B
	 CALL PE
	 MOV AL, 00010B
	 CALL PF
	 MOV AL, 00010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00100B
	 CALL PA
	 MOV AL, 00101B
	 CALL PB 
	 MOV AL, 00101B
	 CALL PC
	 MOV AL, 11100B
	 CALL PD
	 MOV AL, 00101B
	 CALL PE
	 MOV AL, 00101B
	 CALL PF
	 MOV AL, 00101B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01000B
	 CALL PA
	 MOV AL, 01010B
	 CALL PB 
	 MOV AL, 01010B
	 CALL PC
	 MOV AL, 11000B
	 CALL PD
	 MOV AL, 01010B
	 CALL PE
	 MOV AL, 01010B
	 CALL PF
	 MOV AL, 01010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10000B
	 CALL PA
	 MOV AL, 10100B
	 CALL PB 
	 MOV AL, 10100B
	 CALL PC
	 MOV AL, 10000B
	 CALL PD
	 MOV AL, 10100B
	 CALL PE
	 MOV AL, 10100B
	 CALL PF
	 MOV AL, 10101B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB 
	 MOV AL, 01000B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 01000B
	 CALL PE
	 MOV AL, 01001B
	 CALL PF
	 MOV AL, 01010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB 
	 MOV AL, 01000B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 01000B
	 CALL PE
	 MOV AL, 01001B
	 CALL PF
	 MOV AL, 01010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 10000B
	 CALL PB 
	 MOV AL, 10000B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 10000B
	 CALL PE
	 MOV AL, 10010B
	 CALL PF
	 MOV AL, 10100B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00001B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 00000B
	 CALL PE
	 MOV AL, 00100B
	 CALL PF
	 MOV AL, 01001B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00011B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 00000B
	 CALL PE
	 MOV AL, 01000B
	 CALL PF
	 MOV AL, 10011B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00111B
	 CALL PA
	 MOV AL, 00001B
	 CALL PB 
	 MOV AL, 00001B
	 CALL PC
	 MOV AL, 00001B
	 CALL PD
	 MOV AL, 00001B
	 CALL PE
	 MOV AL, 10001B
	 CALL PF
	 MOV AL, 00111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01111B
	 CALL PA
	 MOV AL, 00010B
	 CALL PB 
	 MOV AL, 00010B
	 CALL PC
	 MOV AL, 00010B
	 CALL PD
	 MOV AL, 00010B
	 CALL PE
	 MOV AL, 00010B
	 CALL PF
	 MOV AL, 01111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11111B
	 CALL PA
	 MOV AL, 00100B
	 CALL PB 
	 MOV AL, 00100B
	 CALL PC
	 MOV AL, 00100B
	 CALL PD
	 MOV AL, 00100B
	 CALL PE
	 MOV AL, 00100B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11110B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB 
	 MOV AL, 01000B
	 CALL PC
	 MOV AL, 01000B
	 CALL PD
	 MOV AL, 01000B
	 CALL PE
	 MOV AL, 01000B
	 CALL PF
	 MOV AL, 11110B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11100B
	 CALL PA
	 MOV AL, 10001B
	 CALL PB 
	 MOV AL, 10000B
	 CALL PC
	 MOV AL, 10000B
	 CALL PD
	 MOV AL, 10000B
	 CALL PE
	 MOV AL, 10000B
	 CALL PF
	 MOV AL, 11100B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11001B
	 CALL PA
	 MOV AL, 00010B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 00000B
	 CALL PE
	 MOV AL, 00000B
	 CALL PF
	 MOV AL, 11000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10010B
	 CALL PA
	 MOV AL, 00100B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 00000B
	 CALL PE
	 MOV AL, 00000B
	 CALL PF
	 MOV AL, 10000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00100B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 00001B
	 CALL PD
	 MOV AL, 00001B
	 CALL PE
	 MOV AL, 00001B
	 CALL PF
	 MOV AL, 00001B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01000B
	 CALL PA
	 MOV AL, 10000B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 00010B
	 CALL PD
	 MOV AL, 00011B
	 CALL PE
	 MOV AL, 00010B
	 CALL PF
	 MOV AL, 00010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 00100B
	 CALL PD
	 MOV AL, 00111B
	 CALL PE
	 MOV AL, 00101B
	 CALL PF
	 MOV AL, 00101B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 01000B
	 CALL PD
	 MOV AL, 01111B
	 CALL PE
	 MOV AL, 01010B
	 CALL PF
	 MOV AL, 01010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 10000B
	 CALL PD
	 MOV AL, 11111B
	 CALL PE
	 MOV AL, 10101B
	 CALL PF
	 MOV AL, 10101B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 11110B
	 CALL PE
	 MOV AL, 01010B
	 CALL PF
	 MOV AL, 01010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00001B
	 CALL PA
	 MOV AL, 00001B
	 CALL PB 
	 MOV AL, 00001B
	 CALL PC
	 MOV AL, 00001B
	 CALL PD
	 MOV AL, 11101B
	 CALL PE
	 MOV AL, 10101B
	 CALL PF
	 MOV AL, 10101B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00011B
	 CALL PA
	 MOV AL, 00010B
	 CALL PB 
	 MOV AL, 00010B
	 CALL PC
	 MOV AL, 00011B
	 CALL PD
	 MOV AL, 11010B
	 CALL PE
	 MOV AL, 01010B
	 CALL PF
	 MOV AL, 01010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00111B
	 CALL PA
	 MOV AL, 00100B
	 CALL PB 
	 MOV AL, 00100B
	 CALL PC
	 MOV AL, 00111B
	 CALL PD
	 MOV AL, 10100B
	 CALL PE
	 MOV AL, 10100B
	 CALL PF
	 MOV AL, 10100B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01111B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB 
	 MOV AL, 01000B
	 CALL PC
	 MOV AL, 01111B
	 CALL PD
	 MOV AL, 01000B
	 CALL PE
	 MOV AL, 01000B
	 CALL PF
	 MOV AL, 01000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11111B
	 CALL PA
	 MOV AL, 10001B
	 CALL PB 
	 MOV AL, 10001B
	 CALL PC
	 MOV AL, 11111B
	 CALL PD
	 MOV AL, 10001B
	 CALL PE
	 MOV AL, 10001B
	 CALL PF
	 MOV AL, 10001B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11110B
	 CALL PA
	 MOV AL, 00010B
	 CALL PB 
	 MOV AL, 00010B
	 CALL PC
	 MOV AL, 11110B
	 CALL PD
	 MOV AL, 00010B
	 CALL PE
	 MOV AL, 00010B
	 CALL PF
	 MOV AL, 00010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11101B
	 CALL PA
	 MOV AL, 00101B
	 CALL PB 
	 MOV AL, 00101B
	 CALL PC
	 MOV AL, 11101B
	 CALL PD
	 MOV AL, 00101B
	 CALL PE
	 MOV AL, 00101B
	 CALL PF
	 MOV AL, 00101B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11010B
	 CALL PA
	 MOV AL, 01010B
	 CALL PB 
	 MOV AL, 01010B
	 CALL PC
	 MOV AL, 11010B
	 CALL PD
	 MOV AL, 01010B
	 CALL PE
	 MOV AL, 01010B
	 CALL PF
	 MOV AL, 01010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10100B
	 CALL PA
	 MOV AL, 10100B
	 CALL PB 
	 MOV AL, 10100B
	 CALL PC
	 MOV AL, 10101B
	 CALL PD
	 MOV AL, 10101B
	 CALL PE
	 MOV AL, 10101B
	 CALL PF
	 MOV AL, 10101B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01000B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB 
	 MOV AL, 01000B
	 CALL PC
	 MOV AL, 01011B
	 CALL PD
	 MOV AL, 01010B
	 CALL PE
	 MOV AL, 01010B
	 CALL PF
	 MOV AL, 01011B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10000B
	 CALL PA
	 MOV AL, 10000B
	 CALL PB 
	 MOV AL, 10000B
	 CALL PC
	 MOV AL, 10111B
	 CALL PD
	 MOV AL, 10100B
	 CALL PE
	 MOV AL, 10100B
	 CALL PF
	 MOV AL, 10111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 01111B
	 CALL PD
	 MOV AL, 01001B
	 CALL PE
	 MOV AL, 01001B
	 CALL PF
	 MOV AL, 01111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 11110B
	 CALL PD
	 MOV AL, 10010B
	 CALL PE
	 MOV AL, 10010B
	 CALL PF
	 MOV AL, 11110B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 11101B
	 CALL PD
	 MOV AL, 00100B
	 CALL PE
	 MOV AL, 00100B
	 CALL PF
	 MOV AL, 11100B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00001B
	 CALL PA
	 MOV AL, 00001B
	 CALL PB 
	 MOV AL, 00001B
	 CALL PC
	 MOV AL, 11011B
	 CALL PD
	 MOV AL, 01001B
	 CALL PE
	 MOV AL, 01001B
	 CALL PF
	 MOV AL, 11001B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00010B
	 CALL PA
	 MOV AL, 00010B
	 CALL PB 
	 MOV AL, 00010B
	 CALL PC
	 MOV AL, 10111B
	 CALL PD
	 MOV AL, 10010B
	 CALL PE
	 MOV AL, 10010B
	 CALL PF
	 MOV AL, 10011B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00100B
	 CALL PA
	 MOV AL, 00100B
	 CALL PB 
	 MOV AL, 00100B
	 CALL PC
	 MOV AL, 01110B
	 CALL PD
	 MOV AL, 00100B
	 CALL PE
	 MOV AL, 00100B
	 CALL PF
	 MOV AL, 00110B
	 CALL PG
	 CALL DELAY_S
	 
	  MOV AL, 01000B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB 
	 MOV AL, 01001B
	 CALL PC
	 MOV AL, 11101B
	 CALL PD
	 MOV AL, 01001B
	 CALL PE
	 MOV AL, 01001B
	 CALL PF
	 MOV AL, 01100B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10000B
	 CALL PA
	 MOV AL, 10000B
	 CALL PB 
	 MOV AL, 10011B
	 CALL PC
	 MOV AL, 11010B
	 CALL PD
	 MOV AL, 10010B
	 CALL PE
	 MOV AL, 10011B
	 CALL PF
	 MOV AL, 11000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00111B
	 CALL PC
	 MOV AL, 10100B
	 CALL PD
	 MOV AL, 00100B
	 CALL PE
	 MOV AL, 00111B
	 CALL PF
	 MOV AL, 10000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10000B
	 CALL PA
	 MOV AL, 10000B
	 CALL PB 
	 MOV AL, 10011B
	 CALL PC
	 MOV AL, 11010B
	 CALL PD
	 MOV AL, 10010B
	 CALL PE
	 MOV AL, 10011B
	 CALL PF
	 MOV AL, 11000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00111B
	 CALL PC
	 MOV AL, 10100B
	 CALL PD
	 MOV AL, 00100B
	 CALL PE
	 MOV AL, 00111B
	 CALL PF
	 MOV AL, 10000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 01111B
	 CALL PC
	 MOV AL, 01001B
	 CALL PD
	 MOV AL, 01001B
	 CALL PE
	 MOV AL, 01111B
	 CALL PF
	 MOV AL, 00001B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 11110B
	 CALL PC
	 MOV AL, 10010B
	 CALL PD
	 MOV AL, 10010B
	 CALL PE
	 MOV AL, 11110B
	 CALL PF
	 MOV AL, 00010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00001B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 11100B
	 CALL PC
	 MOV AL, 00100B
	 CALL PD
	 MOV AL, 00100B
	 CALL PE
	 MOV AL, 11100B
	 CALL PF
	 MOV AL, 00100B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00010B
	 CALL PA
	 MOV AL, 00001B
	 CALL PB 
	 MOV AL, 11000B
	 CALL PC
	 MOV AL, 01000B
	 CALL PD
	 MOV AL, 01000B
	 CALL PE
	 MOV AL, 11000B
	 CALL PF
	 MOV AL, 01000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00100B
	 CALL PA
	 MOV AL, 00010B
	 CALL PB 
	 MOV AL, 10001B
	 CALL PC
	 MOV AL, 10001B
	 CALL PD
	 MOV AL, 10001B
	 CALL PE
	 MOV AL, 10001B
	 CALL PF
	 MOV AL, 10001B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01000B
	 CALL PA
	 MOV AL, 00101B
	 CALL PB 
	 MOV AL, 00010B
	 CALL PC
	 MOV AL, 00010B
	 CALL PD
	 MOV AL, 00010B
	 CALL PE
	 MOV AL, 00010B
	 CALL PF
	 MOV AL, 00010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10001B
	 CALL PA
	 MOV AL, 01010B
	 CALL PB 
	 MOV AL, 00100B
	 CALL PC
	 MOV AL, 00100B
	 CALL PD
	 MOV AL, 00100B
	 CALL PE
	 MOV AL, 00100B
	 CALL PF
	 MOV AL, 00100B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00010B
	 CALL PA
	 MOV AL, 10100B
	 CALL PB 
	 MOV AL, 01000B
	 CALL PC
	 MOV AL, 01000B
	 CALL PD
	 MOV AL, 01000B
	 CALL PE
	 MOV AL, 01000B
	 CALL PF
	 MOV AL, 01000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00100B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB 
	 MOV AL, 10001B
	 CALL PC
	 MOV AL, 10001B
	 CALL PD
	 MOV AL, 10001B
	 CALL PE
	 MOV AL, 10001B
	 CALL PF
	 MOV AL, 10000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01000B
	 CALL PA
	 MOV AL, 10000B
	 CALL PB 
	 MOV AL, 00011B
	 CALL PC
	 MOV AL, 00010B
	 CALL PD
	 MOV AL, 00010B
	 CALL PE
	 MOV AL, 00011B
	 CALL PF
	 MOV AL, 00000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 00111B
	 CALL PC
	 MOV AL, 00100B
	 CALL PD
	 MOV AL, 00100B
	 CALL PE
	 MOV AL, 00111B
	 CALL PF
	 MOV AL, 00000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 01111B
	 CALL PC
	 MOV AL, 01001B
	 CALL PD
	 MOV AL, 01001B
	 CALL PE
	 MOV AL, 01111B
	 CALL PF
	 MOV AL, 00001B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB 
	 MOV AL, 11110B
	 CALL PC
	 MOV AL, 10010B
	 CALL PD
	 MOV AL, 10010B
	 CALL PE
	 MOV AL, 11110B
	 CALL PF
	 MOV AL, 00010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00001B
	 CALL PA
	 MOV AL, 00001B
	 CALL PB 
	 MOV AL, 11101B
	 CALL PC
	 MOV AL, 00101B
	 CALL PD
	 MOV AL, 00101B
	 CALL PE
	 MOV AL, 11101B
	 CALL PF
	 MOV AL, 00101B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00010B
	 CALL PA
	 MOV AL, 00010B
	 CALL PB 
	 MOV AL, 11010B
	 CALL PC
	 MOV AL, 01011B
	 CALL PD
	 MOV AL, 01010B
	 CALL PE
	 MOV AL, 11010B
	 CALL PF
	 MOV AL, 01010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00100B
	 CALL PA
	 MOV AL, 00100B
	 CALL PB 
	 MOV AL, 10100B
	 CALL PC
	 MOV AL, 10111B
	 CALL PD
	 MOV AL, 10100B
	 CALL PE
	 MOV AL, 10100B
	 CALL PF
	 MOV AL, 10100B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01000B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB 
	 MOV AL, 01000B
	 CALL PC
	 MOV AL, 01111B
	 CALL PD
	 MOV AL, 01000B
	 CALL PE
	 MOV AL, 01000B
	 CALL PF
	 MOV AL, 01000B
	 CALL PG
	 CALL DELAY_S
	 
	 JMP MODE_0
	 RET
	 
MODE_1:
	 INC MODEFLAG
	 
	 MOV AL, 11111B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 00000B
	 CALL PE
	 MOV AL, 00000B
	 CALL PF
	 MOV AL, 00000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11111B
	 CALL PA
	 MOV AL, 11111B
	 CALL PB
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 00000B
	 CALL PE
	 MOV AL, 00000B
	 CALL PF
	 MOV AL, 00000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 11111B
	 CALL PB
	 MOV AL, 11111B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 00000B
	 CALL PE
	 MOV AL, 00000B
	 CALL PF
	 MOV AL, 00000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB
	 MOV AL, 11111B
	 CALL PC
	 MOV AL, 11111B
	 CALL PD
	 MOV AL, 00000B
	 CALL PE
	 MOV AL, 00000B
	 CALL PF
	 MOV AL, 00000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10000B
	 CALL PA
	 MOV AL, 11000B
	 CALL PB
	 MOV AL, 00000B
	 CALL PC
	 MOV AL, 11111B
	 CALL PD
	 MOV AL, 11111B
	 CALL PE
	 MOV AL, 00000B
	 CALL PF
	 MOV AL, 00000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10000B
	 CALL PA
	 MOV AL, 1000B
	 CALL PB
	 MOV AL, 11000B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 11111B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 00000B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 1000B
	 CALL PB
	 MOV AL, 10000B
	 CALL PC
	 MOV AL, 11000B
	 CALL PD
	 MOV AL, 00000B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00111B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB
	 MOV AL, 10000B
	 CALL PC
	 MOV AL, 10000B
	 CALL PD
	 MOV AL, 11000B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00111B
	 CALL PA
	 MOV AL, 00111B
	 CALL PB
	 MOV AL, 10000B
	 CALL PC
	 MOV AL, 10000B
	 CALL PD
	 MOV AL, 11000B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00111B
	 CALL PA
	 MOV AL, 00111B
	 CALL PB
	 MOV AL, 10111B
	 CALL PC
	 MOV AL, 10000B
	 CALL PD
	 MOV AL, 11000B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 00111B
	 CALL PB
	 MOV AL, 10111B
	 CALL PC
	 MOV AL, 10111B
	 CALL PD
	 MOV AL, 11000B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01000B
	 CALL PA
	 MOV AL, 00000B
	 CALL PB
	 MOV AL, 10111B
	 CALL PC
	 MOV AL, 10111B
	 CALL PD
	 MOV AL, 11111B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01000B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB
	 MOV AL, 10111B
	 CALL PC
	 MOV AL, 10111B
	 CALL PD
	 MOV AL, 11111B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01000B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB
	 MOV AL, 10111B
	 CALL PC
	 MOV AL, 10111B
	 CALL PD
	 MOV AL, 11111B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11111B
	 CALL PA
	 MOV AL, 01000B
	 CALL PB
	 MOV AL, 11111B
	 CALL PC
	 MOV AL, 10111B
	 CALL PD
	 MOV AL, 111111B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 00000B
	 CALL PA
	 MOV AL, 11111B
	 CALL PB
	 MOV AL, 11111B
	 CALL PC
	 MOV AL, 11111B
	 CALL PD
	 MOV AL, 111111B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 11111B
	 CALL PA
	 MOV AL, 11111B
	 CALL PB
	 MOV AL, 11111B
	 CALL PC
	 MOV AL, 11111B
	 CALL PD
	 MOV AL, 111111B
	 CALL PE
	 MOV AL, 11111B
	 CALL PF
	 MOV AL, 11111B
	 CALL PG
	 CALL DELAY_S
 
	 JMP MODE_1
	 RET
	 
MODE_2:
	 INC MODEFLAG
   
	 MOV AL, 10101B
	 CALL PA
	 MOV AL, 01010B
	 CALL PB
	 MOV AL, 10101B
	 CALL PC
	 MOV AL, 01010B
	 CALL PD
	 MOV AL, 10101B
	 CALL PE
	 MOV AL, 01010B
	 CALL PF
	 MOV AL, 10101B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01010B
	 CALL PA
	 MOV AL, 10101B
	 CALL PB
	 MOV AL, 01010B
	 CALL PC
	 MOV AL, 10101B
	 CALL PD
	 MOV AL, 01010B
	 CALL PE
	 MOV AL, 10101B
	 CALL PF
	 MOV AL, 01010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 10101B
	 CALL PA
	 MOV AL, 10101B
	 CALL PB
	 MOV AL, 10101B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 01010B
	 CALL PE
	 MOV AL, 01010B
	 CALL PF
	 MOV AL, 01010B
	 CALL PG
	 CALL DELAY_S
	 
	 MOV AL, 01010B
	 CALL PA
	 MOV AL, 01010B
	 CALL PB
	 MOV AL, 01010B
	 CALL PC
	 MOV AL, 00000B
	 CALL PD
	 MOV AL, 10101B
	 CALL PE
	 MOV AL, 10101B
	 CALL PF
	 MOV AL, 10101B
	 CALL PG
	 CALL DELAY_S
	 
	 RET
	 

CODE ENDS
END START
	  
